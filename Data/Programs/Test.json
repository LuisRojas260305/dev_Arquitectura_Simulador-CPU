{
  "metadata": {
    "name": "Prueba Completa ISA Extendido",
    "author": "CPU Simulator",
    "description": "Prueba de todas las instrucciones incluyendo MOVLO/MOVHI",
    "created": "2024-12-06",
    "format_version": "3.0",
    "isa_version": "1.1"
  },

  "program": [
    {
      "address": 0,
      "instruction": "0x9005",
      "mnemonic": "LOADI",
      "operand": 5,
      "comment": "Cargar 5 en AC"
    },
    {
      "address": 1,
      "instruction": "0x2010",
      "mnemonic": "STORE",
      "operand": 16,
      "comment": "Guardar AC en dirección 16"
    },
    {
      "address": 2,
      "instruction": "0x9003",
      "mnemonic": "LOADI",
      "operand": 3,
      "comment": "Cargar 3 en AC"
    },
    {
      "address": 3,
      "instruction": "0x3010",
      "mnemonic": "ADD",
      "operand": 16,
      "comment": "AC + memoria[16] = 3+5=8"
    },
    {
      "address": 4,
      "instruction": "0x2011",
      "mnemonic": "STORE",
      "operand": 17,
      "comment": "Guardar resultado 8 en dirección 17"
    },
    {
      "address": 5,
      "instruction": "0x5011",
      "mnemonic": "MULT",
      "operand": 17,
      "comment": "AC × memoria[17] = 8×8=64 -> AC=64"
    },
    {
      "address": 6,
      "instruction": "0x1100",
      "mnemonic": "MOVHI",
      "operand": 0,
      "comment": "Mover HI a AC (probando MOVHI)"
    },
    {
      "address": 7,
      "instruction": "0x1000",
      "mnemonic": "MOVLO",
      "operand": 0,
      "comment": "Mover LO a AC (probando MOVLO)"
    },
    {
      "address": 8,
      "instruction": "0xD001",
      "mnemonic": "SHL",
      "operand": 1,
      "comment": "Shift Left 1 posición"
    },
    {
      "address": 9,
      "instruction": "0xF000",
      "mnemonic": "HALT",
      "operand": 0,
      "comment": "Detener CPU"
    }
  ],
  
  "data_section": {
    "variables": {
      "valor1": {"address": 16, "value": 0},
      "resultado": {"address": 17, "value": 0}
    }
  },
  
  "execution_info": {
    "entry_point": 0,
    "expected_result": {
      "final_AC": 128,  # 64 << 1
      "LO": 64,
      "HI": 0,
      "flags": {"Z": 0, "C": 0, "N": 0}
    }
  }
}